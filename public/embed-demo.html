
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Voice Widget Embedding Demo</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
      color: #333;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    
    header {
      text-align: center;
      margin-bottom: 40px;
    }
    
    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      color: #333;
    }
    
    .subtitle {
      font-size: 1.2rem;
      color: #666;
      margin-bottom: 20px;
    }
    
    .demo-section {
      background-color: white;
      border-radius: 10px;
      padding: 30px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      margin-bottom: 30px;
    }
    
    h2 {
      font-size: 1.5rem;
      margin-bottom: 20px;
      color: #444;
    }
    
    .code-block {
      background-color: #f4f4f4;
      padding: 20px;
      border-radius: 5px;
      overflow-x: auto;
      font-family: monospace;
      font-size: 14px;
      margin-bottom: 20px;
    }
    
    .integration-options {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 30px;
    }
    
    .option-card {
      flex: 1;
      min-width: 200px;
      background-color: #f9f9f9;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }
    
    .option-card h3 {
      margin-top: 0;
      color: #555;
    }
    
    .option-card p {
      color: #777;
      font-size: 0.9rem;
    }
    
    .config-section {
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #eee;
    }
    
    .config-section h3 {
      margin-top: 0;
    }
    
    .config-option {
      margin-bottom: 15px;
    }
    
    .config-option label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
    }
    
    .config-option input,
    .config-option select {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
    }
    
    button {
      background-color: #4CAF50;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: background-color 0.3s;
    }
    
    button:hover {
      background-color: #45a049;
    }
    
    @media (max-width: 600px) {
      .container {
        padding: 20px 15px;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .demo-section {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Voice Widget Embedding Demo</h1>
      <p class="subtitle">Easily add an AI voice assistant to any website</p>
    </header>
    
    <section class="demo-section">
      <h2>How It Works</h2>
      <p>This page demonstrates how to embed the Voice Widget into your website. The widget appears as a floating button in the corner of the page, which opens a chat interface when clicked.</p>
      <p>Notice the voice button in the bottom-right corner of this page? Click it to try the widget!</p>
      
      <div class="code-block">
        <code>
&lt;script src="https://your-domain.com/voicewidget.js"&gt;&lt;/script&gt;
&lt;script&gt;
  new VoiceWidget({
    webhookUrl: 'https://your-n8n-webhook-url',
    position: 'bottom-right',
    showAvatar: true
  });
&lt;/script&gt;
        </code>
      </div>
    </section>
    
    <section class="demo-section">
      <h2>Configuration Options</h2>
      
      <div class="config-section">
        <h3>Required Settings</h3>
        
        <div class="config-option">
          <label for="webhook-url">Webhook URL (required)</label>
          <input type="url" id="webhook-url" placeholder="https://your-n8n-webhook-url" />
        </div>
      </div>
      
      <div class="config-section">
        <h3>Optional Settings</h3>
        
        <div class="config-option">
          <label for="position">Position</label>
          <select id="position">
            <option value="bottom-right" selected>Bottom Right</option>
            <option value="bottom-left">Bottom Left</option>
            <option value="top-right">Top Right</option>
            <option value="top-left">Top Left</option>
          </select>
        </div>
        
        <div class="config-option">
          <label for="button-label">Button Label</label>
          <input type="text" id="button-label" placeholder="Voice Assistant" />
        </div>
        
        <div class="config-option">
          <label for="greeting">Greeting Message</label>
          <input type="text" id="greeting" placeholder="Hello! How can I assist you today?" />
        </div>
        
        <div class="config-option">
          <label for="tts-provider">TTS Provider</label>
          <select id="tts-provider">
            <option value="deepgram" selected>Deepgram</option>
            <option value="deepseek">Deepseek</option>
          </select>
        </div>
        
        <div class="config-option">
          <label for="show-avatar">Show Avatar</label>
          <select id="show-avatar">
            <option value="true">Yes</option>
            <option value="false" selected>No</option>
          </select>
        </div>
      </div>
      
      <button id="update-config">Update Widget Configuration</button>
    </section>
    
    <section class="demo-section">
      <h2>Integration Options</h2>
      
      <div class="integration-options">
        <div class="option-card">
          <h3>Web Pages</h3>
          <p>Add the widget to any website with just a few lines of code.</p>
        </div>
        
        <div class="option-card">
          <h3>Landing Pages</h3>
          <p>Enhance user engagement on landing pages with voice interactivity.</p>
        </div>
        
        <div class="option-card">
          <h3>Customer Support</h3>
          <p>Provide an additional channel for customer queries and support.</p>
        </div>
      </div>
    </section>
  </div>

  <!-- Include the Voice Widget script -->
  <script src="/voicewidget.js"></script>
  <script>
    // Initialize with default configuration
    let widgetInstance = new VoiceWidget({
      webhookUrl: '',
      position: 'bottom-right',
      buttonLabel: 'Voice Assistant',
      greetingMessage: 'Hello! This is a demo of the embeddable voice assistant. No webhook is configured, so I can only respond with pre-programmed messages.',
      ttsProvider: 'deepgram',
      showAvatar: false
    });
    
    // Update configuration based on form
    document.getElementById('update-config').addEventListener('click', function() {
      const webhookUrl = document.getElementById('webhook-url').value;
      const position = document.getElementById('position').value;
      const buttonLabel = document.getElementById('button-label').value;
      const greeting = document.getElementById('greeting').value;
      const ttsProvider = document.getElementById('tts-provider').value;
      const showAvatar = document.getElementById('show-avatar').value === 'true';
      
      // Remove existing widget
      widgetInstance.destroy();
      
      // Create new widget with updated config
      widgetInstance = new VoiceWidget({
        webhookUrl: webhookUrl || '',
        position: position || 'bottom-right',
        buttonLabel: buttonLabel || 'Voice Assistant',
        greetingMessage: greeting || 'Hello! How can I assist you today?',
        ttsProvider: ttsProvider || 'deepgram',
        showAvatar: showAvatar
      });
      
      alert('Widget configuration updated!');
    });
  </script>
</body>
</html>
